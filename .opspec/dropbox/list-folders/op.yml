name: dropbox/list-folders
description: lists all the folders in the dropbox path
inputs:
  srcDir:
    dir:
      description: directory for source code
      default: .
  DROPBOX_APP_TOKEN:
    string:
      description: token used to call api
run:
  container:
    image: { ref: 'golang:1.12.7-alpine' }
    name: list-folders
    dirs:
      /go/src/github.com/zachpuck/dokuweb-api/: $(srcDir)
    cmd:
      - sh
      - -ce
      - |
        go run .opspec/dropbox/list-folders/list-folders.go
    workDir: /go/src/github.com/zachpuck/dokuweb-api
    envVars:
      DROPBOX_APP_TOKEN: